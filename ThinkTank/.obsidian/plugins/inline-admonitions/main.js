/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => InlineAdmonitionPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// src/inlineAdmonitionSettingTab.ts
var import_obsidian6 = require("obsidian");

// src/editInlineAdmonitionModal.ts
var import_obsidian5 = require("obsidian");

// src/utils.ts
function slugify(str) {
  return String(str).normalize("NFKD").replace(/[\u0300-\u036f]/g, "").trim().toLowerCase().replace(/[^a-z0-9 -]/g, "").replace(/\s+/g, "-").replace(/-+/g, "-");
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (let i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
function unsafeStringify(arr, offset = 0) {
  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  const rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (let i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// src/InlineAdmonitions/inlineAdmonition.ts
var InlineAdmonition = class {
  constructor(backgroundColor, color, slug) {
    this.toString = () => {
      return "InlineAdmonition(" + this.backgroundColor + ", " + this.type + ")";
    };
    this.backgroundColor = backgroundColor;
    this.color = color;
    this.slug = slug;
  }
  copySettingsTo(other) {
    other.backgroundColor = this.backgroundColor;
    other.color = this.color;
  }
  static generateSlug() {
    return v4_default();
  }
};

// src/InlineAdmonitions/prefixInlineAdmonition.ts
var import_obsidian4 = require("obsidian");

// src/InlineAdmonitions/suffixInlineAdmonition.ts
var import_obsidian = require("obsidian");
var SuffixInlineAdmonition = class extends InlineAdmonition {
  constructor(suffix, backgroundColor, color, slug) {
    super(backgroundColor, color, slug);
    this.type = "suffix" /* Suffix */;
    this.toString = () => {
      return "SuffixInlineAdmonition(" + this.suffix + ")";
    };
    this.suffix = suffix;
  }
  // TODO - I dont like this...
  static create() {
    return new SuffixInlineAdmonition("", "#f1f1f1", "#000000", InlineAdmonition.generateSlug());
  }
  static unmarshal(data) {
    if (data.type != "suffix" /* Suffix */) {
      throw new Error("Cannot unmarshal data into SuffixInlineAdmonition: Wrong type: " + data.type);
    }
    return new SuffixInlineAdmonition(data.suffix, data.backgroundColor, data.color, data.slug);
  }
  process(codeElement) {
    if (codeElement.innerText.endsWith(this.suffix)) {
      codeElement.classList.add("iad");
      codeElement.classList.add("iad-suffix-" + slugify(this.suffix));
      codeElement.setAttribute(
        "style",
        `background-color: ${this.backgroundColor};color: ${this.color}`
      );
    }
  }
  sampleText() {
    return "sample text " + this.suffix;
  }
  buildSettings(contentEl, updateSampleFunction) {
    let results = new Array();
    results.push(new import_obsidian.Setting(contentEl).setName("Suffix").setDesc("Inline codeblock suffix to trigger this formatting").addText(
      (text) => text.setPlaceholder("Enter suffix").setValue(this.suffix).onChange((value) => {
        this.suffix = value;
        updateSampleFunction();
      })
    ));
    return results;
  }
};

// src/InlineAdmonitions/containsInlineAdmonition.ts
var import_obsidian2 = require("obsidian");
var ContainsInlineAdmonition = class extends InlineAdmonition {
  constructor(contains, backgroundColor, color, slug) {
    super(backgroundColor, color, slug);
    this.type = "contains" /* Contains */;
    this.toString = () => {
      return "ContainsInlineAdmonition(" + this.contains + ")";
    };
    this.contains = contains;
  }
  // TODO - I dont like this...
  static create() {
    return new ContainsInlineAdmonition("", "#f1f1f1", "#000000", InlineAdmonition.generateSlug());
  }
  static unmarshal(data) {
    if (data.type != "contains" /* Contains */) {
      throw new Error("Cannot unmarshal data into ContainsInlineAdmonition: Wrong type: " + data.type);
    }
    return new ContainsInlineAdmonition(data.contains, data.backgroundColor, data.color, data.slug);
  }
  process(codeElement) {
    if (codeElement.innerText.contains(this.contains)) {
      codeElement.classList.add("iad");
      codeElement.classList.add("iad-contains-" + slugify(this.contains));
      codeElement.setAttribute(
        "style",
        `background-color: ${this.backgroundColor};color: ${this.color}`
      );
    }
  }
  sampleText() {
    return "sample " + this.contains + " text";
  }
  buildSettings(contentEl, updateSampleFunction) {
    let results = new Array();
    results.push(new import_obsidian2.Setting(contentEl).setName("Contains").setDesc("Inline codeblock contains this string to trigger this formatting").addText(
      (text) => text.setPlaceholder("Enter contains").setValue(this.contains).onChange((value) => {
        this.contains = value;
        updateSampleFunction();
      })
    ));
    return results;
  }
};

// src/InlineAdmonitions/inlineAdmonitionType.ts
var import_obsidian3 = require("obsidian");
var InlineAdmonitionType = /* @__PURE__ */ ((InlineAdmonitionType2) => {
  InlineAdmonitionType2["Prefix"] = "prefix";
  InlineAdmonitionType2["Suffix"] = "suffix";
  InlineAdmonitionType2["Contains"] = "contains";
  InlineAdmonitionType2[InlineAdmonitionType2["tooltip"] = void 0] = "tooltip";
  return InlineAdmonitionType2;
})(InlineAdmonitionType || {});
((InlineAdmonitionType2) => {
  function create(type) {
    switch (type) {
      case "prefix" /* Prefix */:
        return PrefixInlineAdmonition.create();
      case "suffix" /* Suffix */:
        return SuffixInlineAdmonition.create();
      case "contains" /* Contains */:
        return ContainsInlineAdmonition.create();
      default:
        throw new Error("Cannot create, invalid Inline Admonition type");
    }
  }
  InlineAdmonitionType2.create = create;
  function from(type) {
    switch (type) {
      case "prefix" /* Prefix */:
        return "prefix" /* Prefix */;
      case "suffix" /* Suffix */:
        return "suffix" /* Suffix */;
      case "contains" /* Contains */:
        return "contains" /* Contains */;
      default:
        throw new Error("Invalid Inline Admonition type: " + type);
    }
  }
  InlineAdmonitionType2.from = from;
  function createFrom(type) {
    return create(from(type));
  }
  InlineAdmonitionType2.createFrom = createFrom;
  function unmarshal(data) {
    let type = from(data.type);
    switch (type) {
      case "prefix" /* Prefix */:
        return PrefixInlineAdmonition.unmarshal(data);
      case "suffix" /* Suffix */:
        return SuffixInlineAdmonition.unmarshal(data);
      case "contains" /* Contains */:
        return ContainsInlineAdmonition.unmarshal(data);
      default:
        throw new Error("Cannot Unmarshal, invalid Inline Admonition type: " + type);
    }
  }
  InlineAdmonitionType2.unmarshal = unmarshal;
  function tooltip() {
    return `
The "type" defines what triggers an Inline Admonition
		
 - Prefix: Triggered if a codeblock starts with the string.
 - Suffix: Triggered if a codeblock ends with the string.
 - Contains: Triggered if a codeblock contains the string anywhere within it.
 `;
  }
  InlineAdmonitionType2.tooltip = tooltip;
})(InlineAdmonitionType || (InlineAdmonitionType = {}));
var TypeTooltipModal = class extends import_obsidian3.Modal {
  onOpen() {
    super.onOpen();
    let { contentEl } = this;
    contentEl.createDiv({
      text: InlineAdmonitionType.tooltip(),
      attr: { "style": "white-space: pre-wrap;" }
    });
  }
};

// src/InlineAdmonitions/prefixInlineAdmonition.ts
var PrefixInlineAdmonition = class extends InlineAdmonition {
  constructor(prefix, backgroundColor, color, slug) {
    super(backgroundColor, color, slug);
    this.type = "prefix" /* Prefix */;
    this.toString = () => {
      return "PrefixInlineAdmonition(" + this.prefix + ")";
    };
    this.prefix = prefix;
  }
  // TODO - I dont like this...
  static create() {
    return new PrefixInlineAdmonition("", "#f1f1f1", "#000000", InlineAdmonition.generateSlug());
  }
  static unmarshal(data) {
    if (data.type != "prefix" /* Prefix */) {
      throw new Error("Cannot unmarshal data into PrefixInlineAdmonition: Wrong type: " + data.type);
    }
    return new PrefixInlineAdmonition(data.prefix, data.backgroundColor, data.color, data.slug);
  }
  process(codeElement) {
    if (codeElement.innerText.startsWith(this.prefix)) {
      codeElement.classList.add("iad");
      codeElement.classList.add("iad-prefix-" + slugify(this.prefix));
      codeElement.setAttribute(
        "style",
        `background-color: ${this.backgroundColor};color: ${this.color}`
      );
    }
  }
  sampleText() {
    return this.prefix + " sample text";
  }
  buildSettings(contentEl, updateSampleFunction) {
    let results = new Array();
    results.push(new import_obsidian4.Setting(contentEl).setName("Prefix").setDesc("Inline codeblock prefix to trigger this formatting").addText(
      (text) => text.setPlaceholder("Enter prefix").setValue(this.prefix).onChange((value) => {
        this.prefix = value;
        updateSampleFunction();
      })
    ));
    return results;
  }
};

// src/editInlineAdmonitionModal.ts
var EditInlineAdmonitionModal = class extends import_obsidian5.Modal {
  constructor(app, toEdit, onSubmit) {
    super(app);
    this.typeSettings = new Array();
    this.result = toEdit ? toEdit : PrefixInlineAdmonition.create();
    this.onSubmit = onSubmit;
  }
  static edit(app, toEdit, onSubmit) {
    return new EditInlineAdmonitionModal(app, toEdit, onSubmit);
  }
  static new(app, onSubmit) {
    return new EditInlineAdmonitionModal(app, PrefixInlineAdmonition.create(), onSubmit);
  }
  onOpen() {
    let { contentEl } = this;
    contentEl.createEl("br");
    let submitSetting = new import_obsidian5.Setting(contentEl).addButton((btn) => btn.setButtonText("Submit").setCta().onClick(() => {
      this.close();
      this.onSubmit(this.result);
    }));
    this.sample = submitSetting.nameEl.createEl("code", {
      text: this.result.sampleText(),
      cls: "iad iad-sample iad-sample-editor iad-" + this.result.slug,
      attr: { "style": `background-color: ${this.result.backgroundColor}; color: ${this.result.color};` }
    });
    new import_obsidian5.Setting(contentEl).setName("Background color").setDesc("Color of the background of the inline admonition").addColorPicker(
      (cp) => cp.setValue(this.result.backgroundColor).onChange((val) => {
        this.result.backgroundColor = val;
        this.updateSample();
      })
    );
    new import_obsidian5.Setting(contentEl).setName("Text color").setDesc("Color of the text of the inline admonition").addColorPicker(
      (cp) => cp.setValue(this.result.color).onChange((val) => {
        this.result.color = val;
        this.updateSample();
      })
    );
    new import_obsidian5.Setting(contentEl).setName("Type").setDesc("The way the Inline Admonition is triggered").setTooltip(InlineAdmonitionType.tooltip()).addDropdown((dc) => dc.addOption("prefix" /* Prefix */, "prefix" /* Prefix */).addOption("suffix" /* Suffix */, "suffix" /* Suffix */).addOption("contains" /* Contains */, "contains" /* Contains */).setValue(this.result.type).onChange((value) => {
      this.clearTypeSettings();
      let old = this.result;
      this.result = InlineAdmonitionType.createFrom(value);
      old.copySettingsTo(this.result);
      this.appendTypeSettings(contentEl);
    })).addButton(
      (btn) => btn.setIcon("help-circle").onClick(() => {
        new TypeTooltipModal(this.app).open();
      })
    );
    this.appendTypeSettings(contentEl);
  }
  updateSample() {
    this.sample.setText(this.result.sampleText());
    this.sample.setAttr("style", `background-color: ${this.result.backgroundColor}; color: ${this.result.color}; margin: 0.5em;`);
  }
  clearTypeSettings() {
    this.typeSettings.forEach((value) => value.settingEl.remove());
  }
  appendTypeSettings(contentEl) {
    this.typeSettings = this.result.buildSettings(contentEl, () => this.updateSample());
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/inlineAdmonitionSettingTab.ts
var InlineAdmonitionSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).addButton((b) => b.setButtonText("Create new inline admonition").onClick(async (evt) => {
      EditInlineAdmonitionModal.new(this.app, async (result) => {
        this.plugin.settings.inlineAdmonitions.set(result.slug, result);
        await this.plugin.saveSettings();
        this.rebuildSettingRows(containerEl);
      }).open();
    }));
    this.rebuildSettingRows(containerEl);
  }
  // Renders the "samples" with options in the main settings view
  rebuildSettingRows(containerEl) {
    containerEl.findAll(".iad-setting-row").forEach((e) => e.remove());
    new Map([...this.plugin.settings.inlineAdmonitions].sort()).forEach((iad, identifier) => {
      this.displaySampleIAD(containerEl, iad, identifier);
    });
  }
  // Renders a single Inline Admonition "sample" with options
  displaySampleIAD(containerEl, iad, identifier) {
    let row = containerEl.createDiv();
    row.addClass("iad-setting-row");
    row.createSpan({
      text: iad.type + " Type",
      cls: "iad-setting-row-title"
    });
    row.createEl("code", {
      text: iad.sampleText(),
      cls: "iad iad-sample iad-" + iad.slug,
      parent: row,
      attr: { "style": `background-color: ${iad.backgroundColor}; color: ${iad.color}; margin: 0.5em;` }
    });
    let editButton = row.createEl("button", { text: "Edit" });
    editButton.addEventListener("click", (evt) => {
      EditInlineAdmonitionModal.edit(this.app, iad, async (result) => {
        this.plugin.settings.inlineAdmonitions.delete(identifier);
        this.plugin.settings.inlineAdmonitions.set(result.slug, result);
        await this.plugin.saveSettings();
        this.rebuildSettingRows(containerEl);
      }).open();
    });
    let deleteButton = row.createEl("button", { text: "Delete" });
    deleteButton.addEventListener("click", async (evt) => {
      this.plugin.settings.inlineAdmonitions.delete(identifier);
      await this.plugin.saveSettings();
      row.remove();
    });
  }
};

// src/inlineAdmonitionsPostProcessor.ts
var InlineAdmonitionsPostProcessor = class {
  constructor(settings) {
    this.settings = settings;
  }
  postProcess(element, context) {
    element.findAll("code").forEach((codeblock) => {
      this.settings.inlineAdmonitions.forEach((iad) => iad.process(codeblock));
    });
  }
};

// src/inlineAdmonitionSettings.ts
var DEFAULT_SETTINGS = {
  version: 0,
  inlineAdmonitions: /* @__PURE__ */ new Map()
};

// main.ts
var InlineAdmonitionPlugin = class extends import_obsidian7.Plugin {
  async onload() {
    console.log("Loading Inline Admonitions.");
    await this.loadSettings();
    this.registerMarkdownPostProcessor((element, context) => {
      new InlineAdmonitionsPostProcessor(this.settings).postProcess(element, context);
    });
    this.addSettingTab(new InlineAdmonitionSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    var _a;
    let settingData = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, settingData);
    await this.migrateData();
    let iads = /* @__PURE__ */ new Map();
    for (const identifier in (_a = this.settings) == null ? void 0 : _a.inlineAdmonitions) {
      let iad = this.settings.inlineAdmonitions[identifier];
      let typedIAD = InlineAdmonitionType.unmarshal(iad);
      iads.set(typedIAD.slug, typedIAD);
    }
    this.settings.inlineAdmonitions = iads;
  }
  async saveSettings() {
    let settingData = Object.assign({}, DEFAULT_SETTINGS, this.settings);
    settingData.inlineAdmonitions = Object.fromEntries(this.settings.inlineAdmonitions.entries());
    await this.saveData(settingData);
    this.rerenderMarkdownViews();
  }
  rerenderMarkdownViews() {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian7.MarkdownView);
    view == null ? void 0 : view.previewMode.rerender(true);
  }
  async migrateData() {
    var _a;
    if (this.settings.version == void 0 || this.settings.version === 0) {
      console.log("[Inline Admonitions] Migrating settings from version 0 to 1");
      let iads = /* @__PURE__ */ new Map();
      for (const identifier in (_a = this.settings) == null ? void 0 : _a.inlineAdmonitions) {
        let iad = this.settings.inlineAdmonitions[identifier];
        if (iad.type === void 0) {
          console.log("[Inline Admonitions] Setting InlineAdmonition " + identifier + " to Prefix type");
          iad.type = "prefix" /* Prefix */;
        }
        if (iad.slug === void 0) {
          iad.slug = InlineAdmonition.generateSlug();
        }
        let ia = InlineAdmonitionType.unmarshal(iad);
        iads.set(ia.slug, ia);
      }
      this.settings.inlineAdmonitions = iads;
      this.settings.version = 1;
      this.settings["mySetting"] = void 0;
      await this.saveSettings();
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvaW5saW5lQWRtb25pdGlvblNldHRpbmdUYWIudHMiLCAic3JjL2VkaXRJbmxpbmVBZG1vbml0aW9uTW9kYWwudHMiLCAic3JjL3V0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmF0aXZlLmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCAic3JjL0lubGluZUFkbW9uaXRpb25zL2lubGluZUFkbW9uaXRpb24udHMiLCAic3JjL0lubGluZUFkbW9uaXRpb25zL3ByZWZpeElubGluZUFkbW9uaXRpb24udHMiLCAic3JjL0lubGluZUFkbW9uaXRpb25zL3N1ZmZpeElubGluZUFkbW9uaXRpb24udHMiLCAic3JjL0lubGluZUFkbW9uaXRpb25zL2NvbnRhaW5zSW5saW5lQWRtb25pdGlvbi50cyIsICJzcmMvSW5saW5lQWRtb25pdGlvbnMvaW5saW5lQWRtb25pdGlvblR5cGUudHMiLCAic3JjL2lubGluZUFkbW9uaXRpb25zUG9zdFByb2Nlc3Nvci50cyIsICJzcmMvaW5saW5lQWRtb25pdGlvblNldHRpbmdzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge01hcmtkb3duVmlldywgUGx1Z2lufSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb25TZXR0aW5nVGFifSBmcm9tIFwiLi9zcmMvaW5saW5lQWRtb25pdGlvblNldHRpbmdUYWJcIjtcbmltcG9ydCB7SW5saW5lQWRtb25pdGlvbnNQb3N0UHJvY2Vzc29yfSBmcm9tIFwiLi9zcmMvaW5saW5lQWRtb25pdGlvbnNQb3N0UHJvY2Vzc29yXCI7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb25TZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HU30gZnJvbSBcIi4vc3JjL2lubGluZUFkbW9uaXRpb25TZXR0aW5nc1wiO1xuaW1wb3J0IHtJbmxpbmVBZG1vbml0aW9ufSBmcm9tIFwiLi9zcmMvSW5saW5lQWRtb25pdGlvbnMvaW5saW5lQWRtb25pdGlvblwiO1xuaW1wb3J0IHtJbmxpbmVBZG1vbml0aW9uVHlwZX0gZnJvbSBcIi4vc3JjL0lubGluZUFkbW9uaXRpb25zL2lubGluZUFkbW9uaXRpb25UeXBlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElubGluZUFkbW9uaXRpb25QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogSW5saW5lQWRtb25pdGlvblNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZyhcIkxvYWRpbmcgSW5saW5lIEFkbW9uaXRpb25zLlwiKVxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKChlbGVtZW50LCBjb250ZXh0KSA9PiB7XG5cdFx0XHRuZXcgSW5saW5lQWRtb25pdGlvbnNQb3N0UHJvY2Vzc29yKHRoaXMuc2V0dGluZ3MpLnBvc3RQcm9jZXNzKGVsZW1lbnQsIGNvbnRleHQpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBJbmxpbmVBZG1vbml0aW9uU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0bGV0IHNldHRpbmdEYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBzZXR0aW5nRGF0YSk7XG5cblx0XHRhd2FpdCB0aGlzLm1pZ3JhdGVEYXRhKCk7XG5cblx0XHRsZXQgaWFkcyA9IG5ldyBNYXA8c3RyaW5nLCBJbmxpbmVBZG1vbml0aW9uPigpO1xuXHRcdGZvciAoY29uc3QgaWRlbnRpZmllciBpbiB0aGlzLnNldHRpbmdzPy5pbmxpbmVBZG1vbml0aW9ucykge1xuXHRcdFx0bGV0IGlhZCA9IHRoaXMuc2V0dGluZ3MuaW5saW5lQWRtb25pdGlvbnNbaWRlbnRpZmllcl1cblx0XHRcdGxldCB0eXBlZElBRCA9IElubGluZUFkbW9uaXRpb25UeXBlLnVubWFyc2hhbChpYWQpO1xuXHRcdFx0aWFkcy5zZXQodHlwZWRJQUQuc2x1ZywgdHlwZWRJQUQpO1xuXHRcdH1cblx0XHR0aGlzLnNldHRpbmdzLmlubGluZUFkbW9uaXRpb25zID0gaWFkcztcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRsZXQgc2V0dGluZ0RhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCB0aGlzLnNldHRpbmdzKTtcblx0XHRzZXR0aW5nRGF0YS5pbmxpbmVBZG1vbml0aW9ucyA9IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLnNldHRpbmdzLmlubGluZUFkbW9uaXRpb25zLmVudHJpZXMoKSk7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YShzZXR0aW5nRGF0YSk7XG5cdFx0dGhpcy5yZXJlbmRlck1hcmtkb3duVmlld3MoKTtcblx0fVxuXG5cdHByaXZhdGUgcmVyZW5kZXJNYXJrZG93blZpZXdzKCkge1xuXHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdHZpZXc/LnByZXZpZXdNb2RlLnJlcmVuZGVyKHRydWUpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBtaWdyYXRlRGF0YSgpIHtcblx0XHQvLyBNaWdyYXRlIHRvIHZlcnNpb24gMVxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnZlcnNpb24gPT0gdW5kZWZpbmVkIHx8IHRoaXMuc2V0dGluZ3MudmVyc2lvbiA9PT0gMCkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJbSW5saW5lIEFkbW9uaXRpb25zXSBNaWdyYXRpbmcgc2V0dGluZ3MgZnJvbSB2ZXJzaW9uIDAgdG8gMVwiKTtcblx0XHRcdGxldCBpYWRzID0gbmV3IE1hcDxzdHJpbmcsIElubGluZUFkbW9uaXRpb24+KCk7XG5cdFx0XHRmb3IgKGNvbnN0IGlkZW50aWZpZXIgaW4gdGhpcy5zZXR0aW5ncz8uaW5saW5lQWRtb25pdGlvbnMpIHtcblx0XHRcdFx0bGV0IGlhZCA9IHRoaXMuc2V0dGluZ3MuaW5saW5lQWRtb25pdGlvbnNbaWRlbnRpZmllcl1cblx0XHRcdFx0aWYgKGlhZC50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIltJbmxpbmUgQWRtb25pdGlvbnNdIFNldHRpbmcgSW5saW5lQWRtb25pdGlvbiBcIiArIGlkZW50aWZpZXIgKyBcIiB0byBQcmVmaXggdHlwZVwiKVxuXHRcdFx0XHRcdGlhZC50eXBlID0gSW5saW5lQWRtb25pdGlvblR5cGUuUHJlZml4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChpYWQuc2x1ZyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aWFkLnNsdWcgPSBJbmxpbmVBZG1vbml0aW9uLmdlbmVyYXRlU2x1ZygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IGlhID0gSW5saW5lQWRtb25pdGlvblR5cGUudW5tYXJzaGFsKGlhZCk7XG5cdFx0XHRcdGlhZHMuc2V0KGlhLnNsdWcsIGlhKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0dGluZ3MuaW5saW5lQWRtb25pdGlvbnMgPSBpYWRzO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy52ZXJzaW9uID0gMTtcblx0XHRcdHRoaXMuc2V0dGluZ3NbXCJteVNldHRpbmdcIl0gPSB1bmRlZmluZWQ7XG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuXHRcdH1cblx0fVxufVxuXG4iLCAiLy8gU2V0dGluZ3NcbmltcG9ydCB7QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7RWRpdElubGluZUFkbW9uaXRpb25Nb2RhbH0gZnJvbSBcIi4vZWRpdElubGluZUFkbW9uaXRpb25Nb2RhbFwiO1xuaW1wb3J0IElubGluZUFkbW9uaXRpb25QbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCB7SW5saW5lQWRtb25pdGlvbn0gZnJvbSBcIi4vSW5saW5lQWRtb25pdGlvbnMvaW5saW5lQWRtb25pdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgSW5saW5lQWRtb25pdGlvblNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBJbmxpbmVBZG1vbml0aW9uUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IElubGluZUFkbW9uaXRpb25QbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHQvLyBDcmVhdGUgSW5saW5lIEFkbW9uaXRpb24gQnV0dG9uXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuYWRkQnV0dG9uKGIgPT4gYlxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIkNyZWF0ZSBuZXcgaW5saW5lIGFkbW9uaXRpb25cIilcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgZXZ0ID0+IHtcblx0XHRcdFx0XHRFZGl0SW5saW5lQWRtb25pdGlvbk1vZGFsLm5ldyh0aGlzLmFwcCwgYXN5bmMgcmVzdWx0ID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlubGluZUFkbW9uaXRpb25zLnNldChyZXN1bHQuc2x1ZywgcmVzdWx0KTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5yZWJ1aWxkU2V0dGluZ1Jvd3MoY29udGFpbmVyRWwpO1xuXHRcdFx0XHRcdH0pLm9wZW4oKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0dGhpcy5yZWJ1aWxkU2V0dGluZ1Jvd3MoY29udGFpbmVyRWwpO1xuXHR9XG5cblx0Ly8gUmVuZGVycyB0aGUgXCJzYW1wbGVzXCIgd2l0aCBvcHRpb25zIGluIHRoZSBtYWluIHNldHRpbmdzIHZpZXdcblx0cHJpdmF0ZSByZWJ1aWxkU2V0dGluZ1Jvd3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KSB7XG5cdFx0Y29udGFpbmVyRWwuZmluZEFsbChcIi5pYWQtc2V0dGluZy1yb3dcIikuZm9yRWFjaChlID0+IGUucmVtb3ZlKCkpO1xuXHRcdG5ldyBNYXAoWy4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmlubGluZUFkbW9uaXRpb25zXS5zb3J0KCkpLmZvckVhY2goKGlhZCwgaWRlbnRpZmllcikgPT4ge1xuXHRcdFx0dGhpcy5kaXNwbGF5U2FtcGxlSUFEKGNvbnRhaW5lckVsLCBpYWQsIGlkZW50aWZpZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gUmVuZGVycyBhIHNpbmdsZSBJbmxpbmUgQWRtb25pdGlvbiBcInNhbXBsZVwiIHdpdGggb3B0aW9uc1xuXHRwcml2YXRlIGRpc3BsYXlTYW1wbGVJQUQoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBpYWQ6IElubGluZUFkbW9uaXRpb24sIGlkZW50aWZpZXI6IHN0cmluZykge1xuXHRcdGxldCByb3c6IEhUTUxFbGVtZW50ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCk7XG5cdFx0cm93LmFkZENsYXNzKFwiaWFkLXNldHRpbmctcm93XCIpXG5cblx0XHRyb3cuY3JlYXRlU3Bhbih7XG5cdFx0XHR0ZXh0OiBpYWQudHlwZSArIFwiIFR5cGVcIixcblx0XHRcdGNsczogXCJpYWQtc2V0dGluZy1yb3ctdGl0bGVcIlxuXHRcdH0pO1xuXG5cdFx0cm93LmNyZWF0ZUVsKFwiY29kZVwiLCB7XG5cdFx0XHR0ZXh0OiBpYWQuc2FtcGxlVGV4dCgpLFxuXHRcdFx0Y2xzOiBcImlhZCBpYWQtc2FtcGxlIGlhZC1cIiArIGlhZC5zbHVnLFxuXHRcdFx0cGFyZW50OiByb3csXG5cdFx0XHRhdHRyOiB7XCJzdHlsZVwiOiBgYmFja2dyb3VuZC1jb2xvcjogJHtpYWQuYmFja2dyb3VuZENvbG9yfTsgY29sb3I6ICR7aWFkLmNvbG9yfTsgbWFyZ2luOiAwLjVlbTtgfVxuXHRcdH0pO1xuXG5cdFx0bGV0IGVkaXRCdXR0b24gPSByb3cuY3JlYXRlRWwoXCJidXR0b25cIiwge3RleHQ6IFwiRWRpdFwifSlcblx0XHRlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT4ge1xuXHRcdFx0RWRpdElubGluZUFkbW9uaXRpb25Nb2RhbC5lZGl0KHRoaXMuYXBwLCBpYWQsIGFzeW5jIHJlc3VsdCA9PiB7XG5cdFx0XHRcdC8vIGlmIHRoZSBpYWQgcHJlZml4IGNoYW5nZWQsIHdlIG5lZWQgdG8ga2lsbCB0aGUgb3JpZ2luYWxcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5saW5lQWRtb25pdGlvbnMuZGVsZXRlKGlkZW50aWZpZXIpO1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmxpbmVBZG1vbml0aW9ucy5zZXQocmVzdWx0LnNsdWcsIHJlc3VsdCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLnJlYnVpbGRTZXR0aW5nUm93cyhjb250YWluZXJFbCk7XG5cdFx0XHR9KS5vcGVuKCk7XG5cdFx0fSk7XG5cblx0XHRsZXQgZGVsZXRlQnV0dG9uID0gcm93LmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHt0ZXh0OiBcIkRlbGV0ZVwifSlcblx0XHRkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIGV2dCA9PiB7XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmxpbmVBZG1vbml0aW9ucy5kZWxldGUoaWRlbnRpZmllcik7XG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdHJvdy5yZW1vdmUoKTtcblx0XHR9KTtcblx0fVxufVxuIiwgIi8vIE1vZGVsIHRvIGVkaXQgYSBzaW5nbGUgSW5saW5lIEFkbW9uaXRpb24ncyBzZXR0aW5nc1xuaW1wb3J0IHtBcHAsIE1vZGFsLCBTZXR0aW5nfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7SW5saW5lQWRtb25pdGlvbn0gZnJvbSBcIi4vSW5saW5lQWRtb25pdGlvbnMvaW5saW5lQWRtb25pdGlvblwiO1xuaW1wb3J0IHtQcmVmaXhJbmxpbmVBZG1vbml0aW9ufSBmcm9tIFwiLi9JbmxpbmVBZG1vbml0aW9ucy9wcmVmaXhJbmxpbmVBZG1vbml0aW9uXCI7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb25UeXBlLCBUeXBlVG9vbHRpcE1vZGFsfSBmcm9tIFwiLi9JbmxpbmVBZG1vbml0aW9ucy9pbmxpbmVBZG1vbml0aW9uVHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgRWRpdElubGluZUFkbW9uaXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cmVzdWx0OiBJbmxpbmVBZG1vbml0aW9uO1xuXHRvblN1Ym1pdDogKHJlc3VsdDogSW5saW5lQWRtb25pdGlvbikgPT4gdm9pZDtcblx0c2FtcGxlOiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSB0eXBlU2V0dGluZ3M6IEFycmF5PFNldHRpbmc+ID0gbmV3IEFycmF5PFNldHRpbmc+KCk7XG5cblx0c3RhdGljIGVkaXQoYXBwOiBBcHAsIHRvRWRpdDogSW5saW5lQWRtb25pdGlvbiwgb25TdWJtaXQ6IChyZXN1bHQ6IElubGluZUFkbW9uaXRpb24pID0+IHZvaWQpIHtcblx0XHRyZXR1cm4gbmV3IEVkaXRJbmxpbmVBZG1vbml0aW9uTW9kYWwoYXBwLCB0b0VkaXQsIG9uU3VibWl0KTtcblx0fVxuXG5cdHN0YXRpYyBuZXcoYXBwOiBBcHAsIG9uU3VibWl0OiAocmVzdWx0OiBJbmxpbmVBZG1vbml0aW9uKSA9PiB2b2lkKSB7XG5cdFx0cmV0dXJuIG5ldyBFZGl0SW5saW5lQWRtb25pdGlvbk1vZGFsKGFwcCwgUHJlZml4SW5saW5lQWRtb25pdGlvbi5jcmVhdGUoKSwgb25TdWJtaXQpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHRvRWRpdDogSW5saW5lQWRtb25pdGlvbiwgb25TdWJtaXQ6IChyZXN1bHQ6IElubGluZUFkbW9uaXRpb24pID0+IHZvaWQpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMucmVzdWx0ID0gdG9FZGl0ID8gdG9FZGl0IDogUHJlZml4SW5saW5lQWRtb25pdGlvbi5jcmVhdGUoKTtcblx0XHR0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0bGV0IHtjb250ZW50RWx9ID0gdGhpcztcblxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImJyXCIpO1xuXG5cdFx0bGV0IHN1Ym1pdFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuYWRkQnV0dG9uKChidG4pID0+IGJ0blxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIlN1Ym1pdFwiKVxuXHRcdFx0XHQuc2V0Q3RhKClcblx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0XHR0aGlzLm9uU3VibWl0KHRoaXMucmVzdWx0KTtcblx0XHRcdFx0fSkpXG5cblx0XHR0aGlzLnNhbXBsZSA9IHN1Ym1pdFNldHRpbmcubmFtZUVsLmNyZWF0ZUVsKFwiY29kZVwiLCB7XG5cdFx0XHR0ZXh0OiB0aGlzLnJlc3VsdC5zYW1wbGVUZXh0KCksXG5cdFx0XHRjbHM6IFwiaWFkIGlhZC1zYW1wbGUgaWFkLXNhbXBsZS1lZGl0b3IgaWFkLVwiICsgdGhpcy5yZXN1bHQuc2x1Zyxcblx0XHRcdGF0dHI6IHtcInN0eWxlXCI6IGBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMucmVzdWx0LmJhY2tncm91bmRDb2xvcn07IGNvbG9yOiAke3RoaXMucmVzdWx0LmNvbG9yfTtgfVxuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoXCJCYWNrZ3JvdW5kIGNvbG9yXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkNvbG9yIG9mIHRoZSBiYWNrZ3JvdW5kIG9mIHRoZSBpbmxpbmUgYWRtb25pdGlvblwiKVxuXHRcdFx0LmFkZENvbG9yUGlja2VyKGNwID0+IGNwXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnJlc3VsdC5iYWNrZ3JvdW5kQ29sb3IpXG5cdFx0XHRcdC5vbkNoYW5nZSh2YWwgPT4ge1xuXHRcdFx0XHRcdHRoaXMucmVzdWx0LmJhY2tncm91bmRDb2xvciA9IHZhbDtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZVNhbXBsZSgpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZShcIlRleHQgY29sb3JcIilcblx0XHRcdC5zZXREZXNjKFwiQ29sb3Igb2YgdGhlIHRleHQgb2YgdGhlIGlubGluZSBhZG1vbml0aW9uXCIpXG5cdFx0XHQuYWRkQ29sb3JQaWNrZXIoY3AgPT4gY3Bcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucmVzdWx0LmNvbG9yKVxuXHRcdFx0XHQub25DaGFuZ2UodmFsID0+IHtcblx0XHRcdFx0XHR0aGlzLnJlc3VsdC5jb2xvciA9IHZhbDtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZVNhbXBsZSgpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcblx0XHRcdC5zZXROYW1lKFwiVHlwZVwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgd2F5IHRoZSBJbmxpbmUgQWRtb25pdGlvbiBpcyB0cmlnZ2VyZWRcIilcblx0XHRcdC5zZXRUb29sdGlwKElubGluZUFkbW9uaXRpb25UeXBlLnRvb2x0aXAoKSlcblx0XHRcdC5hZGREcm9wZG93bihkYyA9PiBkY1xuXHRcdFx0XHQuYWRkT3B0aW9uKElubGluZUFkbW9uaXRpb25UeXBlLlByZWZpeCwgSW5saW5lQWRtb25pdGlvblR5cGUuUHJlZml4KVxuXHRcdFx0XHQuYWRkT3B0aW9uKElubGluZUFkbW9uaXRpb25UeXBlLlN1ZmZpeCwgSW5saW5lQWRtb25pdGlvblR5cGUuU3VmZml4KVxuXHRcdFx0XHQuYWRkT3B0aW9uKElubGluZUFkbW9uaXRpb25UeXBlLkNvbnRhaW5zLCBJbmxpbmVBZG1vbml0aW9uVHlwZS5Db250YWlucylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucmVzdWx0LnR5cGUpXG5cdFx0XHRcdC5vbkNoYW5nZSh2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5jbGVhclR5cGVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdGxldCBvbGQgPSB0aGlzLnJlc3VsdDtcblx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IElubGluZUFkbW9uaXRpb25UeXBlLmNyZWF0ZUZyb20odmFsdWUpO1xuXHRcdFx0XHRcdG9sZC5jb3B5U2V0dGluZ3NUbyh0aGlzLnJlc3VsdClcblx0XHRcdFx0XHR0aGlzLmFwcGVuZFR5cGVTZXR0aW5ncyhjb250ZW50RWwpO1xuXHRcdFx0XHR9KSlcblx0XHRcdC5hZGRCdXR0b24oYnRuID0+IGJ0blxuXHRcdFx0XHQuc2V0SWNvbihcImhlbHAtY2lyY2xlXCIpXG5cdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRuZXcgVHlwZVRvb2x0aXBNb2RhbCh0aGlzLmFwcCkub3BlbigpXG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0dGhpcy5hcHBlbmRUeXBlU2V0dGluZ3MoY29udGVudEVsKTtcblx0fVxuXG5cdHByaXZhdGUgdXBkYXRlU2FtcGxlKCkge1xuXHRcdHRoaXMuc2FtcGxlLnNldFRleHQodGhpcy5yZXN1bHQuc2FtcGxlVGV4dCgpKTtcblx0XHQvLyBUT0RPIC0gSSB0aGluayB0aGlzIHNob3VsZCBiZSBleHRyYWN0ZWQgb3V0IHNvbWV3aGVyZT9cblx0XHR0aGlzLnNhbXBsZS5zZXRBdHRyKFwic3R5bGVcIiwgYGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5yZXN1bHQuYmFja2dyb3VuZENvbG9yfTsgY29sb3I6ICR7dGhpcy5yZXN1bHQuY29sb3J9OyBtYXJnaW46IDAuNWVtO2ApO1xuXHR9XG5cblx0cHJpdmF0ZSBjbGVhclR5cGVTZXR0aW5ncygpIHtcblx0XHR0aGlzLnR5cGVTZXR0aW5ncy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnNldHRpbmdFbC5yZW1vdmUoKSk7XG5cdH1cblxuXHRwcml2YXRlIGFwcGVuZFR5cGVTZXR0aW5ncyhjb250ZW50RWwpIHtcblx0XHR0aGlzLnR5cGVTZXR0aW5ncyA9IHRoaXMucmVzdWx0LmJ1aWxkU2V0dGluZ3MoY29udGVudEVsLCAoKSA9PiB0aGlzLnVwZGF0ZVNhbXBsZSgpKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0bGV0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBzbHVnaWZ5KHN0cikge1xuXHRyZXR1cm4gU3RyaW5nKHN0cilcblx0XHQubm9ybWFsaXplKCdORktEJykgLy8gc3BsaXQgYWNjZW50ZWQgY2hhcmFjdGVycyBpbnRvIHRoZWlyIGJhc2UgY2hhcmFjdGVycyBhbmQgZGlhY3JpdGljYWwgbWFya3Ncblx0XHQucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpIC8vIHJlbW92ZSBhbGwgdGhlIGFjY2VudHMsIHdoaWNoIGhhcHBlbiB0byBiZSBhbGwgaW4gdGhlIFxcdTAzeHggVU5JQ09ERSBibG9jay5cblx0XHQudHJpbSgpIC8vIHRyaW0gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlXG5cdFx0LnRvTG93ZXJDYXNlKCkgLy8gY29udmVydCB0byBsb3dlcmNhc2Vcblx0XHQucmVwbGFjZSgvW15hLXowLTkgLV0vZywgJycpIC8vIHJlbW92ZSBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnNcblx0XHQucmVwbGFjZSgvXFxzKy9nLCAnLScpIC8vIHJlcGxhY2Ugc3BhY2VzIHdpdGggaHlwaGVuc1xuXHRcdC5yZXBsYWNlKC8tKy9nLCAnLScpOyAvLyByZW1vdmUgY29uc2VjdXRpdmUgaHlwaGVuc1xufVxuIiwgIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwgImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG5jb25zdCBieXRlVG9IZXggPSBbXTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgcmV0dXJuIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIGNvbnN0IHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsICJjb25zdCByYW5kb21VVUlEID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQgJiYgY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuZXhwb3J0IGRlZmF1bHQge1xuICByYW5kb21VVUlEXG59OyIsICJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCAiaW1wb3J0IHtJbmxpbmVBZG1vbml0aW9uVHlwZX0gZnJvbSBcIi4vaW5saW5lQWRtb25pdGlvblR5cGVcIjtcbmltcG9ydCB7U2V0dGluZ30gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge3Y0IGFzIHV1aWR2NH0gZnJvbSBcInV1aWRcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElubGluZUFkbW9uaXRpb24ge1xuXHRiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcblx0Y29sb3I6IHN0cmluZztcblx0dHlwZTogSW5saW5lQWRtb25pdGlvblR5cGU7XG5cdHNsdWc6IHN0cmluZztcblxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoYmFja2dyb3VuZENvbG9yLCBjb2xvciwgc2x1Zykge1xuXHRcdHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuXHRcdHRoaXMuY29sb3IgPSBjb2xvcjtcblx0XHR0aGlzLnNsdWcgPSBzbHVnO1xuXHR9XG5cblx0cHVibGljIGFic3RyYWN0IHByb2Nlc3MoY29kZUVsZW1lbnQ6IEhUTUxFbGVtZW50KTtcblxuXHRhYnN0cmFjdCBzYW1wbGVUZXh0KCk6IHN0cmluZztcblxuXHRhYnN0cmFjdCBidWlsZFNldHRpbmdzKGNvbnRlbnRFbDogSFRNTEVsZW1lbnQsIHVwZGF0ZVNhbXBsZUZ1bmN0aW9uKTogQXJyYXk8U2V0dGluZz47XG5cblx0Y29weVNldHRpbmdzVG8ob3RoZXI6IElubGluZUFkbW9uaXRpb24pIHtcblx0XHRvdGhlci5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcblx0XHRvdGhlci5jb2xvciA9IHRoaXMuY29sb3I7XG5cdH1cblxuXHRwdWJsaWMgdG9TdHJpbmcgPSAoKTogc3RyaW5nID0+IHtcblx0XHRyZXR1cm4gXCJJbmxpbmVBZG1vbml0aW9uKFwiICsgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgKyBcIiwgXCIgKyB0aGlzLnR5cGUgKyBcIilcIlxuXHR9XG5cblx0c3RhdGljIGdlbmVyYXRlU2x1ZygpOiBzdHJpbmcge1xuXHRcdHJldHVybiB1dWlkdjQoKTtcblx0fVxufVxuIiwgImltcG9ydCB7c2x1Z2lmeX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb259IGZyb20gXCIuL2lubGluZUFkbW9uaXRpb25cIjtcbmltcG9ydCB7U2V0dGluZ30gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb25UeXBlfSBmcm9tIFwiLi9pbmxpbmVBZG1vbml0aW9uVHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgUHJlZml4SW5saW5lQWRtb25pdGlvbiBleHRlbmRzIElubGluZUFkbW9uaXRpb24ge1xuXHRwcmVmaXg6IHN0cmluZztcblx0dHlwZSA9IElubGluZUFkbW9uaXRpb25UeXBlLlByZWZpeDtcblxuXHQvLyBUT0RPIC0gSSBkb250IGxpa2UgdGhpcy4uLlxuXHRzdGF0aWMgY3JlYXRlKCkge1xuXHRcdHJldHVybiBuZXcgUHJlZml4SW5saW5lQWRtb25pdGlvbihcIlwiLCBcIiNmMWYxZjFcIiwgXCIjMDAwMDAwXCIsIElubGluZUFkbW9uaXRpb24uZ2VuZXJhdGVTbHVnKCkpO1xuXHR9XG5cblx0c3RhdGljIHVubWFyc2hhbChkYXRhOiBhbnkpOiBQcmVmaXhJbmxpbmVBZG1vbml0aW9uIHtcblx0XHRpZiAoZGF0YS50eXBlICE9IElubGluZUFkbW9uaXRpb25UeXBlLlByZWZpeCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVubWFyc2hhbCBkYXRhIGludG8gUHJlZml4SW5saW5lQWRtb25pdGlvbjogV3JvbmcgdHlwZTogXCIgKyBkYXRhLnR5cGUpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IFByZWZpeElubGluZUFkbW9uaXRpb24oZGF0YS5wcmVmaXgsIGRhdGEuYmFja2dyb3VuZENvbG9yLCBkYXRhLmNvbG9yLCBkYXRhLnNsdWcpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IocHJlZml4LCBiYWNrZ3JvdW5kQ29sb3IsIGNvbG9yLCBzbHVnKSB7XG5cdFx0c3VwZXIoYmFja2dyb3VuZENvbG9yLCBjb2xvciwgc2x1Zyk7XG5cdFx0dGhpcy5wcmVmaXggPSBwcmVmaXg7XG5cdH1cblxuXHRwcm9jZXNzKGNvZGVFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuXHRcdGlmIChjb2RlRWxlbWVudC5pbm5lclRleHQuc3RhcnRzV2l0aCh0aGlzLnByZWZpeCkpIHtcblx0XHRcdGNvZGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpYWRcIik7XG5cdFx0XHRjb2RlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaWFkLXByZWZpeC1cIiArIHNsdWdpZnkodGhpcy5wcmVmaXgpKTtcblx0XHRcdGNvZGVFbGVtZW50LnNldEF0dHJpYnV0ZShcblx0XHRcdFx0XCJzdHlsZVwiLFxuXHRcdFx0XHRgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmJhY2tncm91bmRDb2xvcn07Y29sb3I6ICR7dGhpcy5jb2xvcn1gKTtcblx0XHR9XG5cdH1cblxuXHRzYW1wbGVUZXh0KCkge1xuXHRcdHJldHVybiB0aGlzLnByZWZpeCArIFwiIHNhbXBsZSB0ZXh0XCI7XG5cdH1cblxuXHRidWlsZFNldHRpbmdzKGNvbnRlbnRFbDogSFRNTEVsZW1lbnQsIHVwZGF0ZVNhbXBsZUZ1bmN0aW9uKTogU2V0dGluZ1tdIHtcblx0XHRsZXQgcmVzdWx0cyA9IG5ldyBBcnJheTxTZXR0aW5nPigpO1xuXHRcdHJlc3VsdHMucHVzaChuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZShcIlByZWZpeFwiKVxuXHRcdFx0LnNldERlc2MoXCJJbmxpbmUgY29kZWJsb2NrIHByZWZpeCB0byB0cmlnZ2VyIHRoaXMgZm9ybWF0dGluZ1wiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgcHJlZml4XCIpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnByZWZpeClcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucHJlZml4ID0gdmFsdWU7XG5cdFx0XHRcdFx0dXBkYXRlU2FtcGxlRnVuY3Rpb24oKTtcblx0XHRcdFx0fSlcblx0XHRcdCkpO1xuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0cHVibGljIHRvU3RyaW5nID0gKCk6IHN0cmluZyA9PiB7XG5cdFx0cmV0dXJuIFwiUHJlZml4SW5saW5lQWRtb25pdGlvbihcIiArIHRoaXMucHJlZml4ICsgXCIpXCJcblx0fVxufVxuIiwgImltcG9ydCB7c2x1Z2lmeX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb259IGZyb20gXCIuL2lubGluZUFkbW9uaXRpb25cIjtcbmltcG9ydCB7U2V0dGluZ30gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge0lubGluZUFkbW9uaXRpb25UeXBlfSBmcm9tIFwiLi9pbmxpbmVBZG1vbml0aW9uVHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgU3VmZml4SW5saW5lQWRtb25pdGlvbiBleHRlbmRzIElubGluZUFkbW9uaXRpb24ge1xuXHRzdWZmaXg6IHN0cmluZztcblx0dHlwZSA9IElubGluZUFkbW9uaXRpb25UeXBlLlN1ZmZpeDtcblxuXHQvLyBUT0RPIC0gSSBkb250IGxpa2UgdGhpcy4uLlxuXHRzdGF0aWMgY3JlYXRlKCkge1xuXHRcdHJldHVybiBuZXcgU3VmZml4SW5saW5lQWRtb25pdGlvbihcIlwiLCBcIiNmMWYxZjFcIiwgXCIjMDAwMDAwXCIsIElubGluZUFkbW9uaXRpb24uZ2VuZXJhdGVTbHVnKCkpO1xuXHR9XG5cblx0c3RhdGljIHVubWFyc2hhbChkYXRhOiBhbnkpOiBTdWZmaXhJbmxpbmVBZG1vbml0aW9uIHtcblx0XHRpZiAoZGF0YS50eXBlICE9IElubGluZUFkbW9uaXRpb25UeXBlLlN1ZmZpeCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVubWFyc2hhbCBkYXRhIGludG8gU3VmZml4SW5saW5lQWRtb25pdGlvbjogV3JvbmcgdHlwZTogXCIgKyBkYXRhLnR5cGUpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IFN1ZmZpeElubGluZUFkbW9uaXRpb24oZGF0YS5zdWZmaXgsIGRhdGEuYmFja2dyb3VuZENvbG9yLCBkYXRhLmNvbG9yLCBkYXRhLnNsdWcpO1xuXHR9XG5cblx0Y29uc3RydWN0b3Ioc3VmZml4LCBiYWNrZ3JvdW5kQ29sb3IsIGNvbG9yLCBzbHVnKSB7XG5cdFx0c3VwZXIoYmFja2dyb3VuZENvbG9yLCBjb2xvciwgc2x1Zyk7XG5cdFx0dGhpcy5zdWZmaXggPSBzdWZmaXg7XG5cdH1cblxuXHRwcm9jZXNzKGNvZGVFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuXHRcdGlmIChjb2RlRWxlbWVudC5pbm5lclRleHQuZW5kc1dpdGgodGhpcy5zdWZmaXgpKSB7XG5cdFx0XHRjb2RlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaWFkXCIpO1xuXHRcdFx0Y29kZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlhZC1zdWZmaXgtXCIgKyBzbHVnaWZ5KHRoaXMuc3VmZml4KSk7XG5cdFx0XHRjb2RlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXG5cdFx0XHRcdFwic3R5bGVcIixcblx0XHRcdFx0YGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5iYWNrZ3JvdW5kQ29sb3J9O2NvbG9yOiAke3RoaXMuY29sb3J9YCk7XG5cdFx0fVxuXHR9XG5cblx0c2FtcGxlVGV4dCgpIHtcblx0XHRyZXR1cm4gXCJzYW1wbGUgdGV4dCBcIiArIHRoaXMuc3VmZml4O1xuXHR9XG5cblx0YnVpbGRTZXR0aW5ncyhjb250ZW50RWw6IEhUTUxFbGVtZW50LCB1cGRhdGVTYW1wbGVGdW5jdGlvbik6IFNldHRpbmdbXSB7XG5cdFx0bGV0IHJlc3VsdHMgPSBuZXcgQXJyYXk8U2V0dGluZz4oKTtcblx0XHRyZXN1bHRzLnB1c2gobmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoXCJTdWZmaXhcIilcblx0XHRcdC5zZXREZXNjKFwiSW5saW5lIGNvZGVibG9jayBzdWZmaXggdG8gdHJpZ2dlciB0aGlzIGZvcm1hdHRpbmdcIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHN1ZmZpeFwiKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zdWZmaXgpXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnN1ZmZpeCA9IHZhbHVlO1xuXHRcdFx0XHRcdHVwZGF0ZVNhbXBsZUZ1bmN0aW9uKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpKTtcblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdHB1YmxpYyB0b1N0cmluZyA9ICgpOiBzdHJpbmcgPT4ge1xuXHRcdHJldHVybiBcIlN1ZmZpeElubGluZUFkbW9uaXRpb24oXCIgKyB0aGlzLnN1ZmZpeCArIFwiKVwiXG5cdH1cbn1cbiIsICJpbXBvcnQge3NsdWdpZnl9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtJbmxpbmVBZG1vbml0aW9ufSBmcm9tIFwiLi9pbmxpbmVBZG1vbml0aW9uXCI7XG5pbXBvcnQge1NldHRpbmd9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtJbmxpbmVBZG1vbml0aW9uVHlwZX0gZnJvbSBcIi4vaW5saW5lQWRtb25pdGlvblR5cGVcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRhaW5zSW5saW5lQWRtb25pdGlvbiBleHRlbmRzIElubGluZUFkbW9uaXRpb24ge1xuXHRjb250YWluczogc3RyaW5nO1xuXHR0eXBlID0gSW5saW5lQWRtb25pdGlvblR5cGUuQ29udGFpbnM7XG5cblx0Ly8gVE9ETyAtIEkgZG9udCBsaWtlIHRoaXMuLi5cblx0c3RhdGljIGNyZWF0ZSgpIHtcblx0XHRyZXR1cm4gbmV3IENvbnRhaW5zSW5saW5lQWRtb25pdGlvbihcIlwiLCBcIiNmMWYxZjFcIiwgXCIjMDAwMDAwXCIsIElubGluZUFkbW9uaXRpb24uZ2VuZXJhdGVTbHVnKCkpO1xuXHR9XG5cblx0c3RhdGljIHVubWFyc2hhbChkYXRhOiBhbnkpOiBDb250YWluc0lubGluZUFkbW9uaXRpb24ge1xuXHRcdGlmIChkYXRhLnR5cGUgIT0gSW5saW5lQWRtb25pdGlvblR5cGUuQ29udGFpbnMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1bm1hcnNoYWwgZGF0YSBpbnRvIENvbnRhaW5zSW5saW5lQWRtb25pdGlvbjogV3JvbmcgdHlwZTogXCIgKyBkYXRhLnR5cGUpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IENvbnRhaW5zSW5saW5lQWRtb25pdGlvbihkYXRhLmNvbnRhaW5zLCBkYXRhLmJhY2tncm91bmRDb2xvciwgZGF0YS5jb2xvciwgZGF0YS5zbHVnKTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNvbnRhaW5zLCBiYWNrZ3JvdW5kQ29sb3IsIGNvbG9yLCBzbHVnKSB7XG5cdFx0c3VwZXIoYmFja2dyb3VuZENvbG9yLCBjb2xvciwgc2x1Zyk7XG5cdFx0dGhpcy5jb250YWlucyA9IGNvbnRhaW5zO1xuXHR9XG5cblx0cHJvY2Vzcyhjb2RlRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblx0XHRpZiAoY29kZUVsZW1lbnQuaW5uZXJUZXh0LmNvbnRhaW5zKHRoaXMuY29udGFpbnMpKSB7XG5cdFx0XHRjb2RlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaWFkXCIpO1xuXHRcdFx0Y29kZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlhZC1jb250YWlucy1cIiArIHNsdWdpZnkodGhpcy5jb250YWlucykpO1xuXHRcdFx0Y29kZUVsZW1lbnQuc2V0QXR0cmlidXRlKFxuXHRcdFx0XHRcInN0eWxlXCIsXG5cdFx0XHRcdGBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuYmFja2dyb3VuZENvbG9yfTtjb2xvcjogJHt0aGlzLmNvbG9yfWApO1xuXHRcdH1cblx0fVxuXG5cdHNhbXBsZVRleHQoKSB7XG5cdFx0cmV0dXJuIFwic2FtcGxlIFwiICsgdGhpcy5jb250YWlucyArIFwiIHRleHRcIjtcblx0fVxuXG5cdGJ1aWxkU2V0dGluZ3MoY29udGVudEVsOiBIVE1MRWxlbWVudCwgdXBkYXRlU2FtcGxlRnVuY3Rpb24pOiBTZXR0aW5nW10ge1xuXHRcdGxldCByZXN1bHRzID0gbmV3IEFycmF5PFNldHRpbmc+KCk7XG5cdFx0cmVzdWx0cy5wdXNoKG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcblx0XHRcdC5zZXROYW1lKFwiQ29udGFpbnNcIilcblx0XHRcdC5zZXREZXNjKFwiSW5saW5lIGNvZGVibG9jayBjb250YWlucyB0aGlzIHN0cmluZyB0byB0cmlnZ2VyIHRoaXMgZm9ybWF0dGluZ1wiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgY29udGFpbnNcIilcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMuY29udGFpbnMpXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5zID0gdmFsdWU7XG5cdFx0XHRcdFx0dXBkYXRlU2FtcGxlRnVuY3Rpb24oKTtcblx0XHRcdFx0fSlcblx0XHRcdCkpO1xuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0cHVibGljIHRvU3RyaW5nID0gKCk6IHN0cmluZyA9PiB7XG5cdFx0cmV0dXJuIFwiQ29udGFpbnNJbmxpbmVBZG1vbml0aW9uKFwiICsgdGhpcy5jb250YWlucyArIFwiKVwiXG5cdH1cbn1cbiIsICJpbXBvcnQge1ByZWZpeElubGluZUFkbW9uaXRpb259IGZyb20gXCIuL3ByZWZpeElubGluZUFkbW9uaXRpb25cIjtcbmltcG9ydCB7U3VmZml4SW5saW5lQWRtb25pdGlvbn0gZnJvbSBcIi4vc3VmZml4SW5saW5lQWRtb25pdGlvblwiO1xuaW1wb3J0IHtJbmxpbmVBZG1vbml0aW9ufSBmcm9tIFwiLi9pbmxpbmVBZG1vbml0aW9uXCI7XG5pbXBvcnQge0NvbnRhaW5zSW5saW5lQWRtb25pdGlvbn0gZnJvbSBcIi4vY29udGFpbnNJbmxpbmVBZG1vbml0aW9uXCI7XG5pbXBvcnQge01vZGFsfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGVudW0gSW5saW5lQWRtb25pdGlvblR5cGUge1xuXHRQcmVmaXggPSBcInByZWZpeFwiLFxuXHRTdWZmaXggPSBcInN1ZmZpeFwiLFxuXHRDb250YWlucyA9IFwiY29udGFpbnNcIixcblx0dG9vbHRpcFxufVxuXG5leHBvcnQgbmFtZXNwYWNlIElubGluZUFkbW9uaXRpb25UeXBlIHtcblx0ZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSh0eXBlOiBJbmxpbmVBZG1vbml0aW9uVHlwZSk6IElubGluZUFkbW9uaXRpb24ge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSBJbmxpbmVBZG1vbml0aW9uVHlwZS5QcmVmaXg6XG5cdFx0XHRcdHJldHVybiBQcmVmaXhJbmxpbmVBZG1vbml0aW9uLmNyZWF0ZSgpO1xuXHRcdFx0Y2FzZSBJbmxpbmVBZG1vbml0aW9uVHlwZS5TdWZmaXg6XG5cdFx0XHRcdHJldHVybiBTdWZmaXhJbmxpbmVBZG1vbml0aW9uLmNyZWF0ZSgpO1xuXHRcdFx0Y2FzZSBJbmxpbmVBZG1vbml0aW9uVHlwZS5Db250YWluczpcblx0XHRcdFx0cmV0dXJuIENvbnRhaW5zSW5saW5lQWRtb25pdGlvbi5jcmVhdGUoKTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUsIGludmFsaWQgSW5saW5lIEFkbW9uaXRpb24gdHlwZVwiKVxuXHRcdH1cblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBmcm9tKHR5cGU6IHN0cmluZyk6IElubGluZUFkbW9uaXRpb25UeXBlIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgSW5saW5lQWRtb25pdGlvblR5cGUuUHJlZml4OlxuXHRcdFx0XHRyZXR1cm4gSW5saW5lQWRtb25pdGlvblR5cGUuUHJlZml4XG5cdFx0XHRjYXNlIElubGluZUFkbW9uaXRpb25UeXBlLlN1ZmZpeDpcblx0XHRcdFx0cmV0dXJuIElubGluZUFkbW9uaXRpb25UeXBlLlN1ZmZpeFxuXHRcdFx0Y2FzZSBJbmxpbmVBZG1vbml0aW9uVHlwZS5Db250YWluczpcblx0XHRcdFx0cmV0dXJuIElubGluZUFkbW9uaXRpb25UeXBlLkNvbnRhaW5zXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIElubGluZSBBZG1vbml0aW9uIHR5cGU6IFwiICsgdHlwZSlcblx0XHR9XG5cdH1cblxuXHQvLyBmb3IgY29udmVuaWVuY2UuLi5cblx0ZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb20odHlwZTogc3RyaW5nKTogSW5saW5lQWRtb25pdGlvbiB7XG5cdFx0cmV0dXJuIGNyZWF0ZShmcm9tKHR5cGUpKTtcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiB1bm1hcnNoYWwoZGF0YTogYW55KSB7XG5cdFx0bGV0IHR5cGUgPSBmcm9tKGRhdGEudHlwZSlcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgSW5saW5lQWRtb25pdGlvblR5cGUuUHJlZml4OlxuXHRcdFx0XHRyZXR1cm4gUHJlZml4SW5saW5lQWRtb25pdGlvbi51bm1hcnNoYWwoZGF0YSk7XG5cdFx0XHRjYXNlIElubGluZUFkbW9uaXRpb25UeXBlLlN1ZmZpeDpcblx0XHRcdFx0cmV0dXJuIFN1ZmZpeElubGluZUFkbW9uaXRpb24udW5tYXJzaGFsKGRhdGEpO1xuXHRcdFx0Y2FzZSBJbmxpbmVBZG1vbml0aW9uVHlwZS5Db250YWluczpcblx0XHRcdFx0cmV0dXJuIENvbnRhaW5zSW5saW5lQWRtb25pdGlvbi51bm1hcnNoYWwoZGF0YSk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgVW5tYXJzaGFsLCBpbnZhbGlkIElubGluZSBBZG1vbml0aW9uIHR5cGU6IFwiICsgdHlwZSlcblx0XHR9XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gdG9vbHRpcCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgXG5UaGUgXCJ0eXBlXCIgZGVmaW5lcyB3aGF0IHRyaWdnZXJzIGFuIElubGluZSBBZG1vbml0aW9uXG5cdFx0XG4gLSBQcmVmaXg6IFRyaWdnZXJlZCBpZiBhIGNvZGVibG9jayBzdGFydHMgd2l0aCB0aGUgc3RyaW5nLlxuIC0gU3VmZml4OiBUcmlnZ2VyZWQgaWYgYSBjb2RlYmxvY2sgZW5kcyB3aXRoIHRoZSBzdHJpbmcuXG4gLSBDb250YWluczogVHJpZ2dlcmVkIGlmIGEgY29kZWJsb2NrIGNvbnRhaW5zIHRoZSBzdHJpbmcgYW55d2hlcmUgd2l0aGluIGl0LlxuIGBcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVHlwZVRvb2x0aXBNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0b25PcGVuKCkge1xuXHRcdHN1cGVyLm9uT3BlbigpO1xuXHRcdGxldCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmNyZWF0ZURpdih7XG5cdFx0XHR0ZXh0OiBJbmxpbmVBZG1vbml0aW9uVHlwZS50b29sdGlwKCksXG5cdFx0XHRhdHRyOiB7XCJzdHlsZVwiOiBcIndoaXRlLXNwYWNlOiBwcmUtd3JhcDtcIn1cblx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB7SW5saW5lQWRtb25pdGlvblNldHRpbmdzfSBmcm9tIFwiLi9pbmxpbmVBZG1vbml0aW9uU2V0dGluZ3NcIjtcbmltcG9ydCB7SW5saW5lQWRtb25pdGlvbn0gZnJvbSBcIi4vSW5saW5lQWRtb25pdGlvbnMvaW5saW5lQWRtb25pdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgSW5saW5lQWRtb25pdGlvbnNQb3N0UHJvY2Vzc29yIHtcblx0c2V0dGluZ3M6IElubGluZUFkbW9uaXRpb25TZXR0aW5ncztcblxuXHRjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0fVxuXG5cdHBvc3RQcm9jZXNzKGVsZW1lbnQsIGNvbnRleHQpIHtcblx0XHRlbGVtZW50LmZpbmRBbGwoXCJjb2RlXCIpLmZvckVhY2goY29kZWJsb2NrID0+IHtcblx0XHRcdHRoaXMuc2V0dGluZ3MuaW5saW5lQWRtb25pdGlvbnMuZm9yRWFjaCgoaWFkOiBJbmxpbmVBZG1vbml0aW9uKSA9PiBpYWQucHJvY2Vzcyhjb2RlYmxvY2spKTtcblx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB7SW5saW5lQWRtb25pdGlvbn0gZnJvbSBcIi4vSW5saW5lQWRtb25pdGlvbnMvaW5saW5lQWRtb25pdGlvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElubGluZUFkbW9uaXRpb25TZXR0aW5ncyB7XG5cdHZlcnNpb246IG51bWJlcjtcblx0aW5saW5lQWRtb25pdGlvbnM6IE1hcDxzdHJpbmcsIElubGluZUFkbW9uaXRpb24+O1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogSW5saW5lQWRtb25pdGlvblNldHRpbmdzID0ge1xuXHR2ZXJzaW9uOiAwLFxuXHRpbmxpbmVBZG1vbml0aW9uczogbmV3IE1hcDxzdHJpbmcsIElubGluZUFkbW9uaXRpb24+KClcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBbUM7OztBQ0NuQyxJQUFBQyxtQkFBNkM7OztBQ0E3QyxJQUFBQyxtQkFBa0M7OztBQ0QzQixTQUFTLFFBQVEsS0FBSztBQUM1QixTQUFPLE9BQU8sR0FBRyxFQUNmLFVBQVUsTUFBTSxFQUNoQixRQUFRLG9CQUFvQixFQUFFLEVBQzlCLEtBQUssRUFDTCxZQUFZLEVBQ1osUUFBUSxnQkFBZ0IsRUFBRSxFQUMxQixRQUFRLFFBQVEsR0FBRyxFQUNuQixRQUFRLE9BQU8sR0FBRztBQUNyQjs7O0FDTkEsSUFBSTtBQUNKLElBQU0sUUFBUSxJQUFJLFdBQVcsRUFBRTtBQUNoQixTQUFSLE1BQXVCO0FBRTVCLE1BQUksQ0FBQyxpQkFBaUI7QUFFcEIsc0JBQWtCLE9BQU8sV0FBVyxlQUFlLE9BQU8sbUJBQW1CLE9BQU8sZ0JBQWdCLEtBQUssTUFBTTtBQUUvRyxRQUFJLENBQUMsaUJBQWlCO0FBQ3BCLFlBQU0sSUFBSSxNQUFNLDBHQUEwRztBQUFBLElBQzVIO0FB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O0FBQUEsRUFDWDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBeEJ0QjtBQXlCRSxRQUFJLGNBQWMsTUFBTSxLQUFLLFNBQVM7QUFDdEMsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLFdBQVc7QUFFL0QsVUFBTSxLQUFLLFlBQVk7QUFFdkIsUUFBSSxPQUFPLG9CQUFJLElBQThCO0FBQzdDLGVBQVcsZUFBYyxVQUFLLGFBQUwsbUJBQWUsbUJBQW1CO0FBQzFELFVBQUksTUFBTSxLQUFLLFNBQVMsa0JBQWtCLFVBQVU7QUFDcEQsVUFBSSxXQUFXLHFCQUFxQixVQUFVLEdBQUc7QUFDakQsV0FBSyxJQUFJLFNBQVMsTUFBTSxRQUFRO0FBQUEsSUFDakM7QUFDQSxTQUFLLFNBQVMsb0JBQW9CO0FBQUEsRUFDbkM7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixRQUFJLGNBQWMsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsS0FBSyxRQUFRO0FBQ25FLGdCQUFZLG9CQUFvQixPQUFPLFlBQVksS0FBSyxTQUFTLGtCQUFrQixRQUFRLENBQUM7QUFDNUYsVUFBTSxLQUFLLFNBQVMsV0FBVztBQUMvQixTQUFLLHNCQUFzQjtBQUFBLEVBQzVCO0FBQUEsRUFFUSx3QkFBd0I7QUFDL0IsVUFBTSxPQUFPLEtBQUssSUFBSSxVQUFVLG9CQUFvQiw2QkFBWTtBQUNoRSxpQ0FBTSxZQUFZLFNBQVM7QUFBQSxFQUM1QjtBQUFBLEVBRUEsTUFBYyxjQUFjO0FBbkQ3QjtBQXFERSxRQUFJLEtBQUssU0FBUyxXQUFXLFVBQWEsS0FBSyxTQUFTLFlBQVksR0FBRztBQUN0RSxjQUFRLElBQUksNkRBQTZEO0FBQ3pFLFVBQUksT0FBTyxvQkFBSSxJQUE4QjtBQUM3QyxpQkFBVyxlQUFjLFVBQUssYUFBTCxtQkFBZSxtQkFBbUI7QUFDMUQsWUFBSSxNQUFNLEtBQUssU0FBUyxrQkFBa0IsVUFBVTtBQUNwRCxZQUFJLElBQUksU0FBUyxRQUFXO0FBQzNCLGtCQUFRLElBQUksbURBQW1ELGFBQWEsaUJBQWlCO0FBQzdGLGNBQUk7QUFBQSxRQUNMO0FBQ0EsWUFBSSxJQUFJLFNBQVMsUUFBVztBQUMzQixjQUFJLE9BQU8saUJBQWlCLGFBQWE7QUFBQSxRQUMxQztBQUVBLFlBQUksS0FBSyxxQkFBcUIsVUFBVSxHQUFHO0FBQzNDLGFBQUssSUFBSSxHQUFHLE1BQU0sRUFBRTtBQUFBLE1BQ3JCO0FBQ0EsV0FBSyxTQUFTLG9CQUFvQjtBQUNsQyxXQUFLLFNBQVMsVUFBVTtBQUN4QixXQUFLLFNBQVMsV0FBVyxJQUFJO0FBQzdCLFlBQU0sS0FBSyxhQUFhO0FBQUEsSUFDekI7QUFBQSxFQUNEO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIklubGluZUFkbW9uaXRpb25UeXBlIl0KfQo=
